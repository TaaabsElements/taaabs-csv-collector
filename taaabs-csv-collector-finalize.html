<link rel="import" href="../taaabs-themes/taaabs-dark-theme.html">
<dom-module id="taaabs-csv-collector-finalize">
  <template>

    <style include="taaabs-dark-theme"></style>
    <style>
      :host {
        width: 100%;
        display: block
      }

      :host .subTitle {
        text-transform: uppercase;
        font-weight: normal;
        font-size: 10px;
      }
    </style>

    <h4>[[localize('fPHeader')]] ( <span class="subTitle">{{csvSchemaId}}</span> ) </h4>
    <div style="padding-bottom: 2em ">
      <div style="padding-bottom: 0.5em">
        [[localize('fPSaveGo')]]
      </div>
      <div on-click="_saveNext" class="button">
        [[localize('fPSaveGoBtn')]]
      </div>
    </div>
    <div style="padding-bottom: 2em">
      <div style="padding-bottom: 0.5em">
        [[localize('fPExport')]]
      </div>
      <div on-click="_export" class="button">
        [[localize('fPExportBtn')]]
      </div>
    </div>
    <div style="padding-bottom: 2em">
      <div style="padding-bottom: 0.5em">
        [[localize('fPSaveLeave')]]
      </div>
      <div on-click="_saveExit" class="button">
        [[localize('fPSaveLeaveBtn')]]
      </div>
    </div>

  </template>
  <script>
    /* global Polymer */

    Polymer({

      is: 'taaabs-csv-collector-finalize',

      /**
       * Fired when the SAVE_NEXT button is clicked.
       *
       * @event SAVE_NEXT
       */

      /**
       * Fired when the SAVE_EXIT button is clicked.
       *
       * @event SAVE_EXIT
       */

      /**
       * Fired when the EXPORT button is clicked.
       *
       * @event EXPORT
       */

      properties: {

        /**
         * The id of the current csvSchema.
         *
         * @attribute csvSchemaId
         * @type String
         */
        csvSchemaId: {
          type: String,
          value: ""
        },

        ////////////////
        // _i18n VARS //
        ////////////////

        resources: {
          value: function() {
            return {
              "en": {
                "fPHeader": "Save the import configuration",
                "fPExport": "Export in a file for local save",
                "fPExportBtn": "Export",
                "fPSaveGo": "Save in the kTBS & go to the next step",
                "fPSaveGoBtn": "Save & continue",
                "fPSaveLeave": "Save in a kTBS & leave the trace upload process",
                "fPSaveLeaveBtn": "Save & leave",
              },
              "fr": {
                "fPHeader": "Sauvegarder la configuration d'import",
                "fPExport": "Exporter dans un fichier de sauvegarde",
                "fPExportBtn": "Exporter",
                "fPSaveGo": "Sauvegarder dans un ktbs et continuer l'upload de trace",
                "fPSaveGoBtn": "Sauvegarder et continuer",
                "fPSaveLeave": "Sauvegarder dans un ktbs et quitter l'upload de trace",
                "fPSaveLeaveBtn": "Sauvegarder et quitter",
              }
            }
          },

          /**
           * Localization.
           * fr, en.
           *
           * @attribute language
           * @type String
           */
          language: {
            type: String,
            notify: true,
            value: 'en'
          }
        }
      },

      behaviors: [
        Polymer.AppLocalizeBehavior
      ],

      ready: function() {},

      _saveNext: function() {
        this.fire('SAVE_NEXT');
      },

      _export: function() {
        this.fire('EXPORT');
      },

      _saveExit: function() {
        this.fire('SAVE_EXIT');
      }

    });
  </script>

</dom-module>
